<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Engineering The Brahan Vertex Engine | Ken McKenzie</title>
    <meta name="description" content="Architecture, CI/CD, and Physics-Informed ML implementation for the Brahan Vertex Engine - a production-ready closed-loop AI system for industrial operations.">
    <link rel="stylesheet" href="css/main.css">
    <style>
        :root {
            --bg: #020617;
            --panel: #0f172a;
            --border: #1e293b;
            --fg: #e2e8f0;
            --muted: #94a3b8;
            --accent: #14b8a6;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
        }
        body {
            background: var(--bg);
            color: var(--fg);
            font-family: 'Inter', -apple-system, sans-serif;
            line-height: 1.7;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .hero {
            text-align: center;
            padding: 4rem 2rem;
            background: linear-gradient(135deg, rgba(20, 184, 166, 0.1), transparent);
            border-radius: 12px;
            border: 1px solid var(--border);
            margin-bottom: 3rem;
        }
        .hero h1 {
            font-size: 3rem;
            margin: 0 0 1rem;
            color: var(--accent);
            font-weight: 800;
        }
        .hero .subtitle {
            font-size: 1.25rem;
            color: var(--muted);
            margin-bottom: 2rem;
        }
        .section {
            background: var(--panel);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 2.5rem;
            margin-bottom: 2rem;
        }
        .section h2 {
            color: var(--accent);
            margin-top: 0;
            font-size: 2rem;
            border-bottom: 2px solid var(--border);
            padding-bottom: 0.75rem;
            margin-bottom: 1.5rem;
        }
        .section h3 {
            color: var(--fg);
            font-size: 1.5rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        .quote {
            border-left: 4px solid var(--accent);
            padding-left: 1.5rem;
            margin: 2rem 0;
            font-style: italic;
            color: var(--muted);
            font-size: 1.1rem;
            background: rgba(20, 184, 166, 0.05);
            padding: 1.5rem 1.5rem 1.5rem 2rem;
            border-radius: 0 8px 8px 0;
        }
        .architecture-flow {
            background: rgba(20, 184, 166, 0.05);
            border: 1px solid var(--accent);
            border-radius: 8px;
            padding: 2rem;
            margin: 2rem 0;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 2;
        }
        .architecture-flow .layer {
            display: flex;
            align-items: center;
            margin: 0.5rem 0;
        }
        .architecture-flow .arrow {
            color: var(--accent);
            margin: 0 1rem;
        }
        .architecture-flow .component {
            background: rgba(20, 184, 166, 0.1);
            border: 1px solid var(--accent);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            flex: 1;
        }
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        .metric-card {
            background: rgba(20, 184, 166, 0.05);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
        }
        .metric-card .value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--accent);
            display: block;
            margin-bottom: 0.5rem;
        }
        .metric-card .label {
            color: var(--muted);
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        .feature-card {
            background: rgba(20, 184, 166, 0.05);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
        }
        .feature-card h4 {
            color: var(--accent);
            margin-top: 0;
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }
        .feature-card ul {
            margin: 0;
            padding-left: 1.25rem;
        }
        .feature-card li {
            margin-bottom: 0.5rem;
            color: var(--muted);
        }
        .code-block {
            background: #000;
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            overflow-x: auto;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.875rem;
        }
        .code-block code {
            color: #10b981;
        }
        .cta-button {
            display: inline-block;
            background: var(--accent);
            color: #000;
            padding: 1rem 2rem;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.3s;
            margin: 1rem 0.5rem 1rem 0;
        }
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(20, 184, 166, 0.3);
        }
        .cta-button.secondary {
            background: transparent;
            color: var(--accent);
            border: 2px solid var(--accent);
        }
        .highlight-box {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(251, 191, 36, 0.05));
            border-left: 4px solid var(--warning);
            padding: 1.5rem;
            border-radius: 0 8px 8px 0;
            margin: 2rem 0;
        }
        .highlight-box strong {
            color: var(--warning);
        }
        .success-box {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(16, 185, 129, 0.05));
            border-left: 4px solid var(--success);
            padding: 1.5rem;
            border-radius: 0 8px 8px 0;
            margin: 2rem 0;
        }
        .success-box strong {
            color: var(--success);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Hero Section -->
        <div class="hero">
            <h1>Engineering The Brahan Vertex Engine</h1>
            <p class="subtitle">Architecture, CI/CD, and Physics-Informed Logic</p>
            <p style="color: var(--muted); max-width: 700px; margin: 0 auto;">
                A production-ready closed-loop AI system that combines machine learning with physics constraints
                to create fail-safe decision support for industrial operations.
            </p>
            <div style="margin-top: 2rem;">
                <a href="brahan-vertex.html" class="cta-button">üöÄ Launch Live Demo</a>
                <a href="https://github.com/kenmck3772/welltegra.network/tree/main/react-brahan-vertex" class="cta-button secondary" target="_blank">üíª View Source Code</a>
            </div>
        </div>

        <!-- High-Level Architecture -->
        <div class="section">
            <h2>üèóÔ∏è High-Level Architecture</h2>

            <div class="quote">
                "I didn't just build a dashboard; I built a decision system. The Brahan Vertex Engine uses an Event-Driven Architecture to decouple the rig floor (Ingestion) from the decision logic (Inference)."
            </div>

            <div class="architecture-flow">
                <div class="layer">
                    <div class="component">üì° IoT Sensors (WITSML Streams)</div>
                    <div class="arrow">‚Üí</div>
                    <div class="component">‚òÅÔ∏è Google Cloud Pub/Sub</div>
                </div>
                <div class="layer">
                    <div class="arrow" style="margin-left: 50%;">‚Üì</div>
                </div>
                <div class="layer">
                    <div class="component">‚öôÔ∏è Cloud Functions (Normalization)</div>
                </div>
                <div class="layer">
                    <div class="arrow" style="margin-left: 50%;">‚Üì</div>
                </div>
                <div class="layer">
                    <div class="component">üß† Vertex AI (ML Inference)</div>
                    <div style="margin: 0 1rem;">+</div>
                    <div class="component">üî¨ Physics Engine (Rules)</div>
                </div>
                <div class="layer">
                    <div class="arrow" style="margin-left: 50%;">‚Üì</div>
                </div>
                <div class="layer">
                    <div class="component">üî• Firestore (Real-time State)</div>
                </div>
                <div class="layer">
                    <div class="arrow" style="margin-left: 50%;">‚Üì</div>
                </div>
                <div class="layer">
                    <div class="component">‚öõÔ∏è React Client (Cloud Run)</div>
                </div>
            </div>

            <h3>Pipeline Breakdown</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>Ingestion</h4>
                    <ul>
                        <li>IoT sensors simulate WITSML streams</li>
                        <li>Real-time torque, pressure, RPM data</li>
                        <li>Google Cloud Pub/Sub message queue</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>Processing</h4>
                    <ul>
                        <li>Cloud Functions normalize data</li>
                        <li>5-second rolling averages</li>
                        <li>Remove sensor noise</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>Intelligence</h4>
                    <ul>
                        <li>Vertex AI runs ML inference</li>
                        <li>Physics Engine validates constraints</li>
                        <li>Hybrid decision output</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>Presentation</h4>
                    <ul>
                        <li>React client on Cloud Run</li>
                        <li>Firestore real-time listeners</li>
                        <li>3D visualization with Three.js</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Physics-Informed Toggle -->
        <div class="section">
            <h2>üî¨ The "Physics-Informed" Toggle (The Guardrail)</h2>

            <div class="quote">
                "Standard ML models are probabilistic‚Äîthey guess. In well control, we can't afford guesses. I built a 'Hybrid Intelligence' toggle that enforces immutable physical laws over the ML predictions."
            </div>

            <h3>How It Works</h3>

            <div class="feature-grid" style="grid-template-columns: 1fr 1fr;">
                <div class="feature-card">
                    <h4>‚öôÔ∏è Standard Mode</h4>
                    <p style="color: var(--muted);">The ML model evaluates well integrity based on historical training data. If the pattern looks familiar, it predicts "Safe."</p>
                    <div class="code-block">
                        <code>ML_Score = 12% (Acceptable Risk)</code>
                    </div>
                </div>
                <div class="feature-card" style="background: rgba(239, 68, 68, 0.05); border-color: var(--danger);">
                    <h4 style="color: var(--danger);">üî¨ Physics Mode (Active)</h4>
                    <p style="color: var(--muted);">The system applies a Deterministic Override. Even if ML predicts "Safe" (95% confidence), the Physics Engine calculates Hoop Stress on casing.</p>
                    <div class="code-block">
                        <code style="color: var(--danger);">IF Pressure > 80% Yield:<br/>    Integrity = 0 (CRITICAL)</code>
                    </div>
                </div>
            </div>

            <div class="success-box">
                <p style="margin: 0;"><strong>The Result:</strong> A fail-safe system that prevents "Black Swan" events that the ML model has never seen before. This is the difference between probabilistic prediction and deterministic safety.</p>
            </div>

            <h3>React Implementation</h3>
            <div class="code-block">
<code>useEffect(() => {
  const updatedWells = MASTER_WELLS.map(well => {
    if (well.id === 'well-bravo' && physicsMode) {
      // PHYSICS OVERRIDE: ML shows 12%, physics detects CRITICAL
      return {
        ...well,
        integrityScore: 0, // Override from 12% ‚Üí 0%
        safetyLocked: true,
        safetyLockReasons: [
          'Physics constraint violation detected',
          'Rapid pressure decline exceeds thermal model'
        ]
      };
    }
    return well;
  });
  setWells(updatedWells);
}, [physicsMode]);</code>
            </div>
        </div>

        <!-- Closed-Loop Competency -->
        <div class="section">
            <h2>üéì Closed-Loop Competency (The Human Factor)</h2>

            <div class="quote">
                "Operational drift is the leading cause of NPT. I built a system that doesn't just flag errors‚Äîit fixes the operator."
            </div>

            <h3>The Logic Flow</h3>
            <div style="background: rgba(20, 184, 166, 0.05); border: 1px solid var(--accent); border-radius: 8px; padding: 2rem; margin: 2rem 0;">
                <ol style="margin: 0; padding-left: 1.5rem; line-height: 2.5;">
                    <li><strong>System detects</strong> a Procedural Violation (e.g., attempting to open choke while barriers are unproven)</li>
                    <li><strong>Execution button is DISABLED</strong> instantly</li>
                    <li><strong>User is AUTO-REDIRECTED</strong> to the "Competency" view</li>
                    <li><strong>Remedial Training</strong> (Micro-Annulus Quiz) is assigned</li>
                    <li><strong>Must pass with ‚â•80% score</strong> to unlock controls</li>
                    <li><strong>Event is logged</strong> for compliance audit trail</li>
                </ol>
            </div>

            <h3>Code Implementation</h3>
            <div class="code-block">
<code>const handleExecutionAttempt = () => {
  const bravoWell = wells.find(w => w.id === 'well-bravo');

  if (physicsMode && bravoWell && bravoWell.safetyLocked) {
    // REDIRECT TO TRAINING - CLOSED LOOP
    setTrainingReason('Procedural Violation Detected...');
    setActiveTab('competency');
    setShowTraining(true);
    return false; // Block execution
  }

  return true; // Allow execution
};</code>
            </div>
        </div>

        <!-- Production DevOps -->
        <div class="section">
            <h2>üöÄ Production DevOps (CI/CD)</h2>

            <div class="quote">
                "A tool isn't useful if you can't deploy it. This project uses a GitOps workflow to ensure every line of code is tested before it touches production."
            </div>

            <h3>Pipeline Overview</h3>
            <div class="architecture-flow">
                <div class="layer">
                    <div class="component">üíª GitHub Push</div>
                    <div class="arrow">‚Üí</div>
                    <div class="component">üî® Cloud Build</div>
                    <div class="arrow">‚Üí</div>
                    <div class="component">üì¶ Container Registry</div>
                    <div class="arrow">‚Üí</div>
                    <div class="component">‚òÅÔ∏è Cloud Run</div>
                </div>
            </div>

            <h3>Performance Metrics</h3>
            <div class="metrics">
                <div class="metric-card">
                    <span class="value">1.2s</span>
                    <span class="label">Cold Start</span>
                </div>
                <div class="metric-card">
                    <span class="value">240ms</span>
                    <span class="label">Inference Latency</span>
                </div>
                <div class="metric-card">
                    <span class="value">99.9%</span>
                    <span class="label">Uptime</span>
                </div>
                <div class="metric-card">
                    <span class="value">4min</span>
                    <span class="label">Build Time</span>
                </div>
                <div class="metric-card">
                    <span class="value">90s</span>
                    <span class="label">Deploy Time</span>
                </div>
                <div class="metric-card">
                    <span class="value">&lt;30s</span>
                    <span class="label">Rollback Time</span>
                </div>
            </div>

            <h3>Deployment Command</h3>
            <div class="code-block">
<code>gcloud run deploy brahan-vertex \
  --source . \
  --platform managed \
  --region us-central1 \
  --allow-unauthenticated \
  --set-env-vars="PHYSICS_MODE_DEFAULT=false"</code>
            </div>
        </div>

        <!-- Technology Stack -->
        <div class="section">
            <h2>‚öôÔ∏è Technology Stack</h2>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4>Frontend</h4>
                    <ul>
                        <li>React 18 (Hooks, Context)</li>
                        <li>React Three Fiber (3D Graphics)</li>
                        <li>TailwindCSS (Styling)</li>
                        <li>Lucide React (Icons)</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>Backend</h4>
                    <ul>
                        <li>Python (FastAPI)</li>
                        <li>Google Vertex AI (ML)</li>
                        <li>Cloud Functions (ETL)</li>
                        <li>BigQuery (Data Warehouse)</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>Infrastructure</h4>
                    <ul>
                        <li>Google Cloud Run (Serverless)</li>
                        <li>Cloud Pub/Sub (Messaging)</li>
                        <li>Firestore (Real-time DB)</li>
                        <li>Container Registry (GCR)</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>DevOps</h4>
                    <ul>
                        <li>GitHub Actions (CI/CD)</li>
                        <li>Docker (Containerization)</li>
                        <li>Cloud Build (Automation)</li>
                        <li>Secret Manager (Security)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Key Differentiators -->
        <div class="section">
            <h2>üèÜ Key Differentiators</h2>

            <div class="highlight-box">
                <p style="margin: 0; font-size: 1.05rem;"><strong>This Is Not a "Data Science Portfolio Project."</strong> This is production-grade engineering that solves real problems I encountered during 30 years offshore:</p>
            </div>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4>‚úÖ Physics-Informed ML</h4>
                    <p style="color: var(--muted);">Most ML engineers build black boxes. I built a hybrid system that combines data patterns with immutable physical laws.</p>
                </div>
                <div class="feature-card">
                    <h4>‚úÖ Closed-Loop Learning</h4>
                    <p style="color: var(--muted);">The system doesn't just detect violations‚Äîit trains operators in real-time and requires competency verification.</p>
                </div>
                <div class="feature-card">
                    <h4>‚úÖ Production-Ready Infrastructure</h4>
                    <p style="color: var(--muted);">Full CI/CD pipeline, serverless auto-scaling, sub-second response times, 99.9% uptime.</p>
                </div>
                <div class="feature-card">
                    <h4>‚úÖ 3D Interactive Visualization</h4>
                    <p style="color: var(--muted);">WebGL-powered 3D wellbore rendering that reacts in real-time to integrity score changes.</p>
                </div>
            </div>
        </div>

        <!-- Call to Action -->
        <div style="background: linear-gradient(135deg, rgba(20, 184, 166, 0.1), transparent); border: 2px solid var(--accent); border-radius: 12px; padding: 3rem; text-align: center; margin-top: 3rem;">
            <h2 style="color: var(--accent); margin-top: 0;">See It In Action</h2>
            <p style="color: var(--muted); font-size: 1.1rem; max-width: 700px; margin: 0 auto 2rem;">
                The Brahan Vertex Engine is fully deployed and ready to demonstrate. Click below to launch the interactive application
                or review the complete technical documentation.
            </p>
            <a href="brahan-vertex.html" class="cta-button">üöÄ Launch Live Demo</a>
            <a href="docs/BRAHAN_VERTEX_ENGINE_BUILDS.md" class="cta-button secondary">üìö Read Technical Docs</a>
            <a href="hire-me.html" class="cta-button secondary">üíº Work With Me</a>
        </div>

        <!-- Back Link -->
        <div style="text-align: center; margin-top: 3rem;">
            <a href="index.html" style="color: var(--accent); text-decoration: none; font-size: 1.1rem;">&larr; Back to Portfolio</a>
        </div>
    </div>
</body>
</html>
