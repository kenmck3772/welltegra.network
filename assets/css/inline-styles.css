/* --- Base & Theme Setup --- */
body { font-family: 'Inter', sans-serif; font-weight: 500; }
h1, h2, h3, h4, h5, h6 { font-weight: 800; }
.theme-light { background-color: #f8fafc; }
.theme-dark { background-color: #0f172a; color: #e2e8f0; }

/* --- Watermark Background --- */
#main-content {
    position: relative;
    z-index: 1;
}
.theme-light #main-content::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    background-image: url('../watermark.jpg');
    background-repeat: repeat;
    background-position: center;
    background-size: 350px;
    opacity: 0.02;
    z-index: -1;
    pointer-events: none;
}

/* --- Error Toast Animations --- */
@keyframes slide-in {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.animate-slide-in {
    animation: slide-in 0.3s ease-out;
}

#global-error-toast {
    transition: opacity 0.3s, transform 0.3s;
}

/* --- CSP-Compliant Utility Classes --- */

/* Display utilities */
.csp-hidden {
    display: none !important;
}

.csp-block {
    display: block !important;
}

.csp-flex {
    display: flex !important;
}

/* Toast fade-out animation */
.toast-fade-out {
    opacity: 0 !important;
    transform: translateX(100%) !important;
}

/* Off-screen positioning for clipboard helper */
.csp-offscreen {
    position: absolute !important;
    left: -9999px !important;
}

/* Background image loader */
.bg-loaded {
    /* Background image will be set via data attribute and CSS custom property */
    background-image: var(--bg-image);
}

/* Gauge and bar width utilities - using CSS custom properties */
.gauge-container {
    width: var(--gauge-size, 120px);
    height: var(--gauge-size, 120px);
}

.gauge-circle {
    transition: stroke-dashoffset 0.5s;
}

/* Width setting via CSS custom property */
.bar-fg,
.burn-rate-bar,
.burn-rate-progress,
.portfolio-health-bar,
.portfolio-progress-bar,
.quality-bar,
.confidence-bar,
.data-quality-bar {
    width: var(--bar-width, 0%);
    transition: width 0.3s ease;
}

/* Stroke dashoffset via CSS custom property */
.gauge-fg {
    stroke-dashoffset: var(--gauge-offset, 0);
}
