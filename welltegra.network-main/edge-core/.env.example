# WellTegra Edge Core - Environment Configuration
# Sprint 12: Edge Core & Sync
#
# Copy this file to .env and update with production values
# IMPORTANT: Never commit .env to version control

# ==================== DATABASE ====================

# PostgreSQL password (CHANGE IN PRODUCTION)
DB_PASSWORD=changeme_in_production

# ==================== AUTHENTICATION ====================

# JWT secret for token signing (CHANGE IN PRODUCTION)
# Generate with: openssl rand -base64 32
JWT_SECRET=changeme_in_production

# ==================== EDGE CORE IDENTITY ====================

# Unique identifier for this Edge Core instance
# Format: rig-XXX or edge-XXX
EDGE_CORE_ID=rig-001

# ==================== CLOUD SYNC ====================

# Cloud sync endpoint URL
CLOUD_SYNC_ENDPOINT=https://cloud.welltegra.com/api/edge-sync

# Enable/disable cloud sync (true/false)
# Set to false for testing or when cloud is unavailable
CLOUD_SYNC_ENABLED=false

# Sync interval in seconds (default: 300 = 5 minutes)
SYNC_INTERVAL_SECONDS=300

# ==================== SECURITY ====================

# Enable FIPS 140-2 mode (true/false)
# Requires OpenSSL with FIPS module
FIPS_MODE=true

# Allowed CORS origins (comma-separated)
# Default: localhost for development
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:3000

# ==================== TLS CERTIFICATES ====================

# Directory containing TLS certificates
CERT_DIR=./certs

# TLS certificate paths (for sync service)
TLS_CERT_PATH=/certs/edge-core.crt
TLS_KEY_PATH=/certs/edge-core.key

# ==================== KAFKA ====================

# Kafka brokers (comma-separated)
KAFKA_BROKERS=kafka:9092

# ==================== API PORTS ====================

# Node.js API port
API_PORT=3001

# Nginx port
NGINX_PORT=8080

# ==================== LOGGING ====================

# Log level (debug, info, warn, error)
LOG_LEVEL=info

# ==================== PRODUCTION CHECKLIST ====================

# Before deploying to production:
# [ ] Change DB_PASSWORD to strong password
# [ ] Change JWT_SECRET to random 32-byte value
# [ ] Set unique EDGE_CORE_ID for this rig
# [ ] Set correct CLOUD_SYNC_ENDPOINT
# [ ] Enable FIPS_MODE if required
# [ ] Install TLS certificates
# [ ] Update ALLOWED_ORIGINS
# [ ] Set LOG_LEVEL to info or warn
# [ ] Test offline-to-online workflow
# [ ] Verify sync to cloud
# [ ] Document in deployment notes
