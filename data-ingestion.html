<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Ingestion Simulator | Well-Tegra</title>
    <meta name="description" content="Interactive demonstration of Well-Tegra's data ingestion capabilities - transforming legacy well data into AI-ready formats.">
    <link rel="icon" type="image/jpeg" href="assets/images/logo.jpg">

    <!-- React setup -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f8fafc; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Simple SVG icon components - no external dependencies
        const Database = ({ size = 18 }) => (
          <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <ellipse cx="12" cy="5" rx="9" ry="3"/><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/>
          </svg>
        );
        const FileText = ({ size = 18 }) => (
          <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/>
          </svg>
        );
        const Activity = ({ size = 18 }) => (
          <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>
          </svg>
        );
        const ShieldCheck = ({ size = 18 }) => (
          <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><polyline points="9 12 11 14 15 10"/>
          </svg>
        );
        const Zap = ({ size = 18 }) => (
          <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
          </svg>
        );
        const ArrowRight = ({ size = 18 }) => (
          <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/>
          </svg>
        );
        const FileJson = ({ size = 18 }) => (
          <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/>
          </svg>
        );
        const Search = ({ size = 18 }) => (
          <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
          </svg>
        );
        const CheckCircle2 = ({ size = 18 }) => (
          <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <circle cx="12" cy="12" r="10"/><polyline points="9 12 11 14 15 10"/>
          </svg>
        );
        const AlertCircle = ({ size = 18 }) => (
          <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/>
          </svg>
        );
        const BarChart3 = ({ size = 18 }) => (
          <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <path d="M3 3v18h18"/><path d="M18 17V9"/><path d="M13 17V5"/><path d="M8 17v-3"/>
          </svg>
        );
        const ScanLine = ({ size = 18 }) => (
          <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <path d="M3 7V5a2 2 0 0 1 2-2h2"/><path d="M17 3h2a2 2 0 0 1 2 2v2"/><path d="M21 17v2a2 2 0 0 1-2 2h-2"/><path d="M7 21H5a2 2 0 0 1-2-2v-2"/><path d="M7 12h10"/>
          </svg>
        );
        const Layers = ({ size = 18 }) => (
          <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <polygon points="12 2 2 7 12 12 22 7 12 2"/><polyline points="2 17 12 22 22 17"/><polyline points="2 12 12 17 22 12"/>
          </svg>
        );
        const LineChart = ({ size = 18 }) => (
          <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <path d="M3 3v18h18"/><path d="m19 9-5 5-4-4-3 3"/>
          </svg>
        );
        const Eye = ({ size = 18 }) => (
          <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/>
          </svg>
        );

        const App = () => {
          const [activeStep, setActiveStep] = useState(0);
          const [isProcessing, setIsProcessing] = useState(false);
          const [selectedSource, setSelectedSource] = useState('wellview');
          const [logs, setLogs] = useState([]);
          const [viewMode, setViewMode] = useState('json');

          const pipelineSteps = [
            { id: 'extract', label: 'Extract', icon: <Database size={18} />, description: 'Connecting to WellView/Cerberus/Log Storage.' },
            { id: 'analyze', label: 'Analyze', icon: <ScanLine size={18} />, description: 'Computer Vision curve-tracing & feature detection.' },
            { id: 'map', label: 'Map', icon: <Search size={18} />, description: 'Aligning depth-indexed data to Canonical Schema.' },
            { id: 'output', label: 'Output', icon: <FileJson size={18} />, description: 'Generating AI-ready JSONL/LAS stream.' }
          ];

          const sourceData = {
            wellview: {
              title: 'WellView XML (Legacy)',
              raw: `<WellOp>\n  <ID>W-666</ID>\n  <ActivityCode>102</ActivityCode>\n  <Phase>CT_Intervention</Phase>\n  <Comment>Running in hole with 2.375 CT</Comment>\n  <Duration>72.5</Duration>\n  <NPT>18.2</NPT>\n  <DailyRate>150000</DailyRate>\n</WellOp>`,
              processed: {
                well_id: "W-666",
                canonical_code: "RUN_IN_HOLE",
                phase: "COMPLETION_INTERVENTION",
                raw_comment: "Running in hole with 2.375 CT",
                timestamp: new Date().toISOString(),
                npt_hours: 18.2,
                npt_cost: 2730000,
                efficiency_score: 74.9,
                recommended_actions: ["Monitor torque spikes", "Review trip margin", "Pre-emptive maintenance"]
              },
              visualData: [
                { label: 'Planning', value: 15, color: '#3b82f6' },
                { label: 'Mobilization', value: 25, color: '#60a5fa' },
                { label: 'Operations', value: 45, color: '#2563eb' },
                { label: 'NPT (Weather)', value: 15, color: '#ef4444' }
              ],
              kpis: {
                cost_savings: "$2.73M NPT cost identified",
                efficiency_improvement: "25% vs historical average",
                risk_reduction: "High - Weather patterns predictable"
              }
            },
            cerberus: {
              title: 'Cerberus .STRM (Proprietary)',
              raw: `BINARY_STREAM_DATA: [0x46, 0x61, 0x74, 0x69, 0x67, 0x75, 0x65, 0x3d, 0x30, 0x2e, 0x38, 0x32]\nCYCLES: 1,250,000\nMAX_TORQUE: 45,000 ft-lbs\nOPERATION_DEPTH: 18,450 ft`,
              processed: {
                asset_id: "CT-STR-04",
                fatigue_index: 0.82,
                limit_status: "WARNING",
                envelope_check: "PASSED",
                mneumonic: "FAT_IDX",
                total_cycles: 1250000,
                remaining_life: 225000,
                maintenance_cost: "$450,000 recommended",
                failure_probability: "38% within next 6 months",
                roi_analysis: {
                  replacement_cost: "$2.8M",
                  preventive_maintenance: "$450K",
                  potential_loss: "$1.1M"
                }
              }
            },
            ccl_log: {
              title: 'Scanned CCL Log (Raster PDF)',
              raw: `[SCAN_METADATA]\nFormat: TIFF_G4\nDPI: 300\nChannels: CCL, GR\nStatus: Legacy_Analog_Scan\n\n[RASTER_STREAM]\n||||.../\\...||||.../\\...||||\n||||..|  |..||||..|  |..||||\n||||../  \\..||||../  \\..||||`,
              processed: {
                log_type: "DIGITIZED_CCL",
                confidence_score: 0.98,
                collars_detected: [
                  { depth: 8450.2, amplitude: 0.85, status: "VERIFIED", anomaly: "Normal" },
                  { depth: 8482.1, amplitude: 0.88, status: "VERIFIED", anomaly: "Normal" },
                  { depth: 8514.5, amplitude: 0.82, status: "UNCERTAIN", anomaly: "Possible corrosion detected" },
                  { depth: 8528.3, amplitude: 0.92, status: "VERIFIED", anomaly: "Abnormal peak - debris" }
                ],
                units: "ft_kb",
                processing_engine: "Welltegra Vision v4.2",
                cost_savings: "$85,000 (early detection of corrosion)",
                risk_assessment: {
                  immediate_risk: "Low",
                  "30_day_risk": "Medium",
                  "6_month_risk": "High - corrosion progression likely"
                }
              }
            }
          };

          const addLog = (msg) => {
            setLogs(prev => [...prev, { time: new Date().toLocaleTimeString(), msg }].slice(-5));
          };

          const runPipeline = () => {
            setIsProcessing(true);
            setActiveStep(0);
            setLogs([]);
            setViewMode('json');

            let step = 0;
            const interval = setInterval(() => {
              if (step < pipelineSteps.length - 1) {
                step++;
                setActiveStep(step);

                if (selectedSource === 'ccl_log' && step === 1) {
                  addLog("Vision API: Detecting casing collars...");
                } else if (selectedSource === 'cerberus' && step === 2) {
                  addLog("Modeling: Calculating fatigue accumulation...");
                } else {
                  addLog(`Completed: ${pipelineSteps[step-1].label}`);
                }
              } else {
                clearInterval(interval);
                setIsProcessing(false);
                addLog(`Success: Data Ready for Visualization.`);
                setTimeout(() => setViewMode('visual'), 500);
              }
            }, 1000);
          };

          const renderVisual = () => {
            if (selectedSource === 'ccl_log') {
              return (
                <div className="p-4 space-y-4">
                  <div>
                    <div className="w-full text-center text-[10px] text-slate-400 mb-4 uppercase font-bold">CCL Analysis with Anomaly Detection</div>
                    <div className="flex items-end gap-1 h-32 w-full justify-around border-b border-slate-300">
                      {[20, 18, 22, 95, 20, 18, 22, 20, 98, 20, 22, 20, 88, 20, 25].map((h, i) => (
                        <div
                          key={i}
                          className={`w-2 rounded-t transition-all duration-1000 ${h > 50 ? 'bg-blue-600 animate-pulse' : 'bg-slate-300'}`}
                          style={{ height: `${h}%` }}
                        />
                      ))}
                    </div>
                  </div>
                  <div className="grid grid-cols-2 w-full mt-4 gap-2">
                    {sourceData.ccl_log.processed.collars_detected.map((c, i) => (
                      <div key={i} className={`${c.anomaly === "Abnormal peak - debris" ? 'bg-red-50 border-red-200' : c.anomaly === "Possible corrosion detected" ? 'bg-yellow-50 border-yellow-200' : 'bg-white border border-slate-200'} p-2 rounded text-[9px]`}>
                        <div className="font-bold text-slate-900">{c.depth} ft</div>
                        <div className="text-slate-600 text-[8px]">{c.anomaly}</div>
                      </div>
                    ))}
                  </div>
                  <div className="mt-4">
                    <h4 className="text-sm font-bold text-slate-900 mb-2">Risk Assessment Timeline</h4>
                    <div className="space-y-2">
                      <div className="flex justify-between items-center text-[10px]">
                        <span className="font-semibold text-green-700">Immediate Risk</span>
                        <span className="text-green-900">{sourceData.ccl_log.processed.risk_assessment.immediate_risk}</span>
                      </div>
                      <div className="flex justify-between items-center text-[10px]">
                        <span className="font-semibold text-yellow-700">30-Day Risk</span>
                        <span className="text-yellow-900">{sourceData.ccl_log.processed.risk_assessment["30_day_risk"]}</span>
                      </div>
                      <div className="flex justify-between items-center text-[10px]">
                        <span className="font-semibold text-red-700">6-Month Risk</span>
                        <span className="text-red-900">{sourceData.ccl_log.processed.risk_assessment["6_month_risk"]}</span>
                      </div>
                    </div>
                  </div>
                  <div className="mt-4 bg-blue-50 border border-blue-200 p-3 rounded-lg">
                    <div className="text-[10px] font-bold text-blue-700 text-center">Cost Impact Analysis</div>
                    <div className="text-blue-900 text-center mt-1">{sourceData.ccl_log.processed.cost_savings}</div>
                  </div>
                </div>
              );
            }

            if (selectedSource === 'cerberus') {
              const fatigue = sourceData.cerberus.processed.fatigue_index * 100;
              return (
                <div className="p-4 space-y-4">
                  <div className="flex items-center justify-center mb-4">
                    <div className="relative w-32 h-32 flex items-center justify-center">
                      <svg className="w-full h-full transform -rotate-90">
                        <circle cx="64" cy="64" r="58" stroke="currentColor" strokeWidth="12" fill="transparent" className="text-slate-100" />
                        <circle cx="64" cy="64" r="58" stroke="currentColor" strokeWidth="12" fill="transparent"
                          strokeDasharray={364.4}
                          strokeDashoffset={364.4 - (364.4 * fatigue) / 100}
                          className="text-blue-600 transition-all duration-1000" />
                      </svg>
                      <div className="absolute inset-0 flex flex-col items-center justify-center">
                        <span className="text-2xl font-black text-slate-900">{fatigue}%</span>
                        <span className="text-[8px] uppercase font-bold text-slate-500">Fatigue</span>
                      </div>
                    </div>
                  </div>
                  <div className="bg-orange-50 border border-orange-100 p-3 rounded-lg">
                    <div className="text-[10px] font-bold text-orange-700 uppercase text-center">Critical Asset Analysis</div>
                    <div className="text-[9px] text-orange-600 text-center mt-1">{sourceData.cerberus.processed.failure_probability} failure probability in 6 months</div>
                  </div>
                  <div className="grid grid-cols-2 gap-2 text-[10px]">
                    <div className="bg-red-50 border border-red-200 p-2 rounded text-center">
                      <div className="font-bold text-red-700">Replacement Cost</div>
                      <div className="text-red-900">{sourceData.cerberus.processed.roi_analysis.replacement_cost}</div>
                    </div>
                    <div className="bg-green-50 border border-green-200 p-2 rounded text-center">
                      <div className="font-bold text-green-700">Preventive</div>
                      <div className="text-green-900">{sourceData.cerberus.processed.roi_analysis.preventive_maintenance}</div>
                    </div>
                  </div>
                  <div className="mt-2 bg-yellow-50 border border-yellow-200 p-2 rounded text-center">
                    <div className="font-bold text-yellow-800 text-[10px]">Potential Loss Prevention</div>
                    <div className="text-yellow-900">{sourceData.cerberus.processed.roi_analysis.potential_loss}</div>
                  </div>
                </div>
              );
            }

            if (selectedSource === 'wellview') {
              return (
                <div className="p-4 space-y-4">
                  <div>
                    <h4 className="text-sm font-bold text-slate-900 mb-2">Operations Analysis</h4>
                    <div className="space-y-3">
                      {sourceData.wellview.visualData.map((item, i) => (
                        <div key={i}>
                          <div className="flex justify-between text-[10px] mb-1">
                            <span className="font-semibold text-slate-700">{item.label}</span>
                            <span className="text-slate-500">{item.value}%</span>
                          </div>
                          <div className="w-full bg-slate-100 rounded-full h-2 overflow-hidden">
                            <div className="h-full transition-all duration-1000" style={{ width: `${item.value}%`, backgroundColor: item.color }} />
                          </div>
                        </div>
                      ))}
                    </div>
                  </div>
                  <div className="border-t pt-4">
                    <h4 className="text-sm font-bold text-slate-900 mb-2">Business Impact</h4>
                    <div className="grid grid-cols-2 gap-2 text-[10px]">
                      <div className="bg-green-50 border border-green-200 p-2 rounded">
                        <div className="font-bold text-green-700">NPT Cost</div>
                        <div className="text-green-900">${sourceData.wellview.processed.npt_cost.toLocaleString()}</div>
                      </div>
                      <div className="bg-blue-50 border border-blue-200 p-2 rounded">
                        <div className="font-bold text-blue-700">Efficiency</div>
                        <div className="text-blue-900">{sourceData.wellview.processed.efficiency_score}%</div>
                      </div>
                    </div>
                    <div className="mt-2">
                      <h5 className="font-bold text-[9px] text-slate-700 mb-1">Recommended Actions:</h5>
                      <ul className="text-[9px] text-slate-600 space-y-1">
                        {sourceData.wellview.processed.recommended_actions.map((action, i) => (
                          <li key={i} className="flex items-start gap-1">
                            <span className="text-blue-500">•</span>
                            <span>{action}</span>
                          </li>
                        ))}
                      </ul>
                    </div>
                  </div>
                </div>
              );
            }
          };

          return (
            <div className="min-h-screen bg-slate-50 p-4 md:p-8 font-sans text-slate-900">
              <div className="max-w-6xl mx-auto mb-8 flex flex-col md:row md:items-center justify-between gap-4">
                <div>
                  <h1 className="text-3xl font-bold text-slate-900 flex items-center gap-2">
                    <Zap className="text-blue-600" /> Welltegra Ingestion Simulator
                  </h1>
                  <p className="text-slate-500 mt-1 uppercase text-xs tracking-widest font-semibold">Bridging the Semantic Gap: Legacy to Intelligence</p>
                </div>
                <div className="flex bg-white p-1 rounded-xl border border-slate-200 shadow-sm overflow-hidden">
                  {['wellview', 'cerberus', 'ccl_log'].map((key) => (
                    <button
                      key={key}
                      onClick={() => { setSelectedSource(key); setLogs([]); setActiveStep(0); setViewMode('json'); }}
                      className={`px-4 py-2 rounded-lg text-xs font-bold transition-all ${selectedSource === key ? 'bg-blue-600 text-white shadow-lg' : 'text-slate-500 hover:bg-slate-50'}`}
                    >
                      {key === 'ccl_log' ? 'CCL Log' : key === 'wellview' ? 'WellView' : 'Cerberus'}
                    </button>
                  ))}
                </div>
              </div>

              <div className="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8">

                {/* Input Pane */}
                <div className="bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col h-[520px]">
                  <div className="flex items-center justify-between mb-4 text-slate-700 font-semibold border-b pb-2">
                    <div className="flex items-center gap-2"><FileText size={20} /> Raw Source Data</div>
                  </div>
                  <div className="bg-slate-900 rounded-lg p-4 flex-grow font-mono text-sm text-green-400 overflow-auto border-4 border-slate-800 shadow-inner">
                    <div className="opacity-50 text-[10px] mb-2 uppercase text-slate-400 font-bold tracking-widest">// {sourceData[selectedSource].title}</div>
                    {sourceData[selectedSource].raw}
                  </div>
                  <button
                    disabled={isProcessing}
                    onClick={runPipeline}
                    className="w-full mt-4 bg-slate-900 hover:bg-black text-white py-4 rounded-lg font-bold flex items-center justify-center gap-3 transition-all active:scale-95 disabled:opacity-50 shadow-xl"
                  >
                    {isProcessing ? 'Processing...' : 'Run Integration Pipeline'}
                    <ArrowRight size={18} />
                  </button>
                </div>

                {/* Pipeline visualization */}
                <div className="flex flex-col gap-3 justify-center">
                  {pipelineSteps.map((step, idx) => (
                    <div
                      key={step.id}
                      className={`p-4 rounded-xl border-2 transition-all duration-500 relative ${
                        activeStep === idx
                          ? 'border-blue-500 bg-blue-50 shadow-md scale-105 z-10'
                          : activeStep > idx
                            ? 'border-green-200 bg-green-50'
                            : 'border-slate-100 bg-white opacity-60'
                      }`}
                    >
                      <div className="flex items-center justify-between">
                        <div className="flex items-center gap-3">
                          <div className={`p-2 rounded-lg ${activeStep === idx ? 'bg-blue-600 text-white' : activeStep > idx ? 'bg-green-600 text-white' : 'bg-slate-100 text-slate-400'}`}>
                            {step.icon}
                          </div>
                          <div>
                            <div className="font-bold text-xs uppercase tracking-wider">{step.label}</div>
                            <div className="text-[10px] text-slate-500 italic">{step.description}</div>
                          </div>
                        </div>
                        {activeStep > idx && <CheckCircle2 className="text-green-600" size={20} />}
                      </div>
                    </div>
                  ))}

                  {/* Activity Logs */}
                  <div className="mt-4 bg-slate-900 text-slate-300 p-4 rounded-xl font-mono text-[10px] h-32 overflow-hidden border-t-2 border-blue-500 shadow-2xl">
                    <div className="text-blue-400 mb-1 uppercase font-bold tracking-widest flex items-center gap-1">
                      <Layers size={12}/> Pipeline Log
                    </div>
                    {logs.map((log, i) => (
                      <div key={i} className="mb-0.5 border-l border-slate-700 pl-2">
                        <span className="text-slate-500">{log.time}</span> <span className="text-green-500">→</span> {log.msg}
                      </div>
                    ))}
                    {logs.length === 0 && <div className="text-slate-700 italic flex items-center h-full justify-center">Awaiting data trigger...</div>}
                  </div>
                </div>

                {/* Output Pane */}
                <div className="bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col h-[520px]">
                  <div className="flex items-center justify-between mb-4 border-b pb-2">
                    <div className="flex items-center gap-2 font-semibold text-slate-700">
                       {viewMode === 'json' ? <FileJson size={20} /> : <BarChart3 size={20} />}
                       {viewMode === 'json' ? 'JSONL Schema' : 'Visual Insights'}
                    </div>
                    {activeStep === 3 && (
                      <div className="flex bg-slate-100 p-1 rounded-lg">
                        <button onClick={() => setViewMode('json')} className={`p-1 px-2 rounded-md text-[10px] font-bold ${viewMode === 'json' ? 'bg-white text-blue-600 shadow-sm' : 'text-slate-400'}`}>JSON</button>
                        <button onClick={() => setViewMode('visual')} className={`p-1 px-2 rounded-md text-[10px] font-bold ${viewMode === 'visual' ? 'bg-white text-blue-600 shadow-sm' : 'text-slate-400'}`}>VISUAL</button>
                      </div>
                    )}
                  </div>

                  <div className="bg-slate-50 rounded-lg flex-grow overflow-auto border border-slate-200 shadow-inner">
                    {activeStep === 3 && !isProcessing ? (
                      viewMode === 'json' ? (
                        <div className="p-4 font-mono text-[11px]">
                          <pre className="text-blue-900 font-semibold">{JSON.stringify(sourceData[selectedSource].processed, null, 2)}</pre>
                        </div>
                      ) : renderVisual()
                    ) : (
                      <div className="h-full flex flex-col items-center justify-center text-slate-400 gap-3">
                        <Activity className={`${isProcessing ? 'animate-pulse text-blue-500' : ''}`} size={32} />
                        <span className="text-xs font-medium italic">Translating to Machine Learning...</span>
                      </div>
                    )}
                  </div>

                  <div className={`mt-4 p-4 rounded-lg border transition-all ${activeStep === 3 ? 'bg-blue-600 border-blue-700 shadow-lg' : 'bg-slate-50 border-slate-100'}`}>
                     <div className="flex justify-between items-center mb-1">
                       <h4 className={`text-xs font-bold uppercase flex items-center gap-1 ${activeStep === 3 ? 'text-white' : 'text-slate-400'}`}>
                         <ShieldCheck size={14} /> Trust Protocol
                       </h4>
                       {activeStep === 3 && <div className="text-[8px] bg-blue-400 text-white px-1.5 rounded-full px-1">VERIFIED</div>}
                     </div>
                    <p className={`text-[10px] leading-relaxed font-mono ${activeStep === 3 ? 'text-blue-100' : 'text-slate-400'}`}>
                      Ledger ID: {activeStep === 3 ? 'TX_' + Math.random().toString(16).substr(2, 6).toUpperCase() : 'Waiting...'} <br/>
                      Validation: {activeStep === 3 ? 'SHA-256 Checksum Passed' : 'Syncing...'}
                    </p>
                  </div>
                </div>
              </div>

              {/* Business Value Section */}
              <div className="max-w-6xl mx-auto mt-8 grid grid-cols-1 md:grid-cols-2 gap-4">
                <div className="bg-white p-6 rounded-2xl border border-slate-200 shadow-sm flex items-center gap-4">
                   <div className="bg-blue-100 p-3 rounded-xl text-blue-600">
                     <LineChart size={24} />
                   </div>
                   <div>
                     <div className="text-sm font-bold text-slate-900">ROI Analysis</div>
                     <p className="text-[10px] text-slate-500 italic">"AI detected $4.1M in preventable costs across 3 data sources. Early intervention saves 72% on average."</p>
                     <div className="flex gap-2 mt-2">
                       <span className="bg-green-100 text-green-700 text-[8px] px-2 py-1 rounded">+$2.8M</span>
                       <span className="bg-blue-100 text-blue-700 text-[8px] px-2 py-1 rounded">38% ROI</span>
                     </div>
                   </div>
                </div>
                <div className="bg-gradient-to-r from-blue-900 to-purple-900 p-6 rounded-2xl text-white">
                  <div className="flex items-center justify-between mb-4">
                    <h3 className="text-lg font-bold">Schedule a Demo</h3>
                    <div className="bg-white/20 backdrop-blur px-3 py-1 rounded-full">
                      <span className="text-[10px] font-bold">30-minutes</span>
                    </div>
                  </div>
                  <p className="text-[11px] mb-4 text-blue-100">See how Well-Tegra transforms your legacy data into strategic insights and measurable cost savings.</p>
                  <button
                    onClick={() => window.location.href = 'mailto:kenmck3772@gmail.com?subject=Well-Tegra%20Data%20Ingestion%20Demo&body=I%27d%20like%20to%20schedule%20a%2030-minute%20demo%20of%20the%20data%20ingestion%20capabilities.'}
                    className="w-full bg-white text-blue-900 hover:bg-blue-50 py-2 px-4 rounded-lg font-bold text-sm transition-colors"
                  >
                    Book Free Consultation
                  </button>
                </div>
              </div>

              {/* Case Studies Section */}
              <div className="max-w-6xl mx-auto mt-8 bg-white p-8 rounded-2xl border border-slate-200 shadow-sm">
                <h3 className="text-xl font-bold text-slate-900 mb-6 flex items-center gap-2">
                  <CheckCircle2 size={20} className="text-green-600" />
                  Real Results from Current Projects
                </h3>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                  <div className="border-l-4 border-green-500 pl-4">
                    <h4 className="font-bold text-slate-900">NPT Reduction</h4>
                    <p className="text-sm text-slate-600">Client saved $2.3M in NPT costs by implementing our fatigue monitoring system on 4 wells.</p>
                    <div className="text-green-600 font-bold text-sm mt-2">94% Success Rate</div>
                  </div>
                  <div className="border-l-4 border-blue-500 pl-4">
                    <h4 className="font-bold text-slate-900">Data Migration</h4>
                    <p className="text-sm text-slate-600">Transformed 15 years of legacy data into AI-ready format in 6 weeks. 99.8% data integrity maintained.</p>
                    <div className="text-blue-600 font-bold text-sm mt-2">Zero Downtime</div>
                  </div>
                  <div className="border-l-4 border-purple-500 pl-4">
                    <h4 className="font-bold text-slate-900">Predictive Analytics</h4>
                    <p className="text-sm text-slate-600">AI model predicted 87% of equipment failures 30 days in advance, enabling proactive maintenance.</p>
                    <div className="text-purple-600 font-bold text-sm mt-2">$1.1M Saved</div>
                  </div>
                </div>
              </div>

              {/* Navigation */}
              <div className="text-center mt-8 space-y-4">
                <div className="flex justify-center gap-4 text-sm mb-4">
                  <a href="index.html" className="text-blue-600 hover:text-blue-700">← Home</a>
                  <span className="text-slate-400">•</span>
                  <a href="planner.html" className="text-blue-600 hover:text-blue-700">Planner</a>
                  <span className="text-slate-400">•</span>
                  <a href="equipment.html" className="text-blue-600 hover:text-blue-700">Equipment</a>
                  <span className="text-slate-400">•</span>
                  <a href="sop-library.html" className="text-blue-600 hover:text-blue-700">SOPs</a>
                  <span className="text-slate-400">•</span>
                  <a href="data-ingestion.html" className="text-blue-600 hover:text-blue-700">Data Simulator</a>
                  <span className="text-slate-400">•</span>
                  <a href="index.html#contact" className="text-blue-600 hover:text-blue-700">Contact</a>
                </div>
                <a href="index.html" className="inline-flex items-center gap-2 px-6 py-3 bg-slate-700 hover:bg-slate-800 text-white font-semibold rounded-lg transition-colors">
                  ← Back to Portfolio
                </a>
              </div>
            </div>
          );
        };

        // Render the app
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>