<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self'; img-src 'self' data:; font-src 'self' data:; connect-src 'self' https://www.data.boem.gov https://gdr.openei.org https://factpages.npd.no https://raw.githubusercontent.com; media-src 'self' data:; object-src 'none'; base-uri 'self'; form-action 'self'">
    <meta name="description" content="Simulate well interventions, visualize schematics, and build daily cost forecasts with the Well-Tegra operations planner.">
    <title>Well Operations Planner | Well-Tegra</title>
    <link rel="icon" href="assets/logo.jpg" type="image/jpeg">
    <link rel="stylesheet" href="assets/css/tailwind.css">
</head>
<body class="bg-slate-950 text-slate-100 min-h-screen flex flex-col">
    <header class="border-b border-slate-800 bg-slate-900/60 backdrop-blur">
        <div class="mx-auto flex max-w-6xl flex-col gap-4 px-4 py-6 sm:flex-row sm:items-center sm:justify-between">
            <div>
                <p class="text-sm text-cyan-300">Well-Tegra Operations Suite</p>
                <h1 class="mt-1 text-2xl font-semibold">Well Operations Planner</h1>
                <p class="text-sm text-slate-400">Project: Lomond Decom &mdash; Well IE 32</p>
            </div>
            <nav aria-label="Breadcrumb">
                <ol class="flex items-center gap-2 text-sm text-slate-400">
                    <li><a class="text-cyan-300 hover:text-cyan-200" href="index.html">Home</a></li>
                    <li aria-hidden="true" class="text-slate-600">/</li>
                    <li class="text-slate-200">Operations Planner</li>
                </ol>
            </nav>
        </div>
    </header>

    <main class="mx-auto flex w-full max-w-6xl flex-1 flex-col gap-6 px-4 py-6">
        <section class="grid flex-1 grid-cols-1 gap-6 lg:grid-cols-3">
            <article class="flex min-h-[22rem] flex-col overflow-hidden rounded-2xl border border-slate-800 bg-slate-900 shadow-lg lg:col-span-1">
                <header class="border-b border-slate-800 bg-slate-900/80 px-5 py-4">
                    <h2 class="text-lg font-semibold">Wellbore Schematic</h2>
                </header>
                <div id="schematic-container" class="relative flex flex-1">
                    <canvas id="well-schematic" class="h-full w-full"></canvas>
                    <div id="well-tooltip" class="pointer-events-none absolute hidden rounded-lg border border-slate-700 bg-slate-900/90 px-4 py-2 text-sm shadow-lg"></div>
                </div>
            </article>

            <article class="flex min-h-[22rem] flex-col overflow-hidden rounded-2xl border border-slate-800 bg-slate-900 shadow-lg lg:col-span-1">
                <header class="border-b border-slate-800 bg-slate-900/80 px-5 py-4">
                    <h2 class="text-lg font-semibold">Operational Procedure</h2>
                </header>
                <div id="procedure-panel" class="flex-1 overflow-y-auto px-5 py-4">
                    <p class="text-sm text-slate-400">Loading procedure&hellip;</p>
                </div>
            </article>

            <article class="flex min-h-[22rem] flex-col overflow-hidden rounded-2xl border border-slate-800 bg-slate-900 shadow-lg lg:col-span-1">
                <header class="border-b border-slate-800 bg-slate-900/80 px-5 py-4">
                    <h2 class="text-lg font-semibold">Job Planner</h2>
                </header>
                <div class="flex flex-1 flex-col gap-5 overflow-y-auto px-5 py-4">
                    <section aria-labelledby="job-metrics-heading" class="rounded-xl border border-slate-800 bg-slate-950/60 p-4 shadow-inner">
                        <h3 id="job-metrics-heading" class="text-base font-semibold text-cyan-300">Job Metrics</h3>
                        <dl class="mt-3 grid grid-cols-2 gap-4 text-sm text-slate-300">
                            <div>
                                <dt class="text-slate-400">Total Length</dt>
                                <dd id="metric-length" class="mt-1 text-lg font-semibold text-sky-300">0.00 ft</dd>
                            </div>
                            <div>
                                <dt class="text-slate-400">Max OD</dt>
                                <dd id="metric-od" class="mt-1 text-lg font-semibold text-sky-300">0.00 in</dd>
                            </div>
                            <div>
                                <dt class="text-slate-400">Equipment Daily Cost</dt>
                                <dd id="metric-equip-cost" class="mt-1 text-lg font-semibold text-sky-300">$0</dd>
                            </div>
                            <div>
                                <dt class="text-slate-400">Personnel Daily Cost</dt>
                                <dd id="metric-pers-cost" class="mt-1 text-lg font-semibold text-sky-300">$0</dd>
                            </div>
                            <div class="col-span-2 border-t border-slate-800 pt-3">
                                <dt class="text-slate-400">Total Job Daily Rate</dt>
                                <dd id="metric-total-cost" class="mt-1 text-2xl font-bold text-emerald-300">$0</dd>
                            </div>
                        </dl>
                    </section>

                    <section aria-labelledby="toolstring-heading" class="flex flex-col gap-3">
                        <div class="flex items-center justify-between">
                            <h3 id="toolstring-heading" class="text-base font-semibold">Toolstring Assembly</h3>
                            <button id="clear-toolstring" type="button" class="text-xs font-semibold text-slate-400 hover:text-slate-200 focus:outline-none focus-visible:ring focus-visible:ring-cyan-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900">Clear</button>
                        </div>
                        <div id="toolstring-list" class="min-h-[6rem] rounded-xl border border-slate-800 bg-slate-950/40 p-3 text-sm text-slate-400">No tools added.</div>
                    </section>

                    <section aria-labelledby="personnel-heading" class="flex flex-col gap-3">
                        <div class="flex items-center justify-between">
                            <h3 id="personnel-heading" class="text-base font-semibold">Personnel on Job</h3>
                            <button id="clear-personnel" type="button" class="text-xs font-semibold text-slate-400 hover:text-slate-200 focus:outline-none focus-visible:ring focus-visible:ring-cyan-500 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900">Clear</button>
                        </div>
                        <div id="personnel-list" class="min-h-[5rem] rounded-xl border border-slate-800 bg-slate-950/40 p-3 text-sm text-slate-400">No personnel added.</div>
                    </section>

                    <section aria-labelledby="quick-add-heading" class="mt-auto rounded-xl border border-slate-800 bg-slate-950/60 p-4">
                        <h3 id="quick-add-heading" class="text-sm font-semibold uppercase tracking-wide text-slate-300">Quick Add</h3>
                        <div class="mt-3 flex flex-wrap gap-2">
                            <button type="button" class="rounded-full bg-sky-600 px-3 py-1 text-xs font-semibold text-white shadow hover:bg-sky-500 focus:outline-none focus-visible:ring focus-visible:ring-sky-300" data-add-tool="TS-001">Rope Socket</button>
                            <button type="button" class="rounded-full bg-sky-600 px-3 py-1 text-xs font-semibold text-white shadow hover:bg-sky-500 focus:outline-none focus-visible:ring focus-visible:ring-sky-300" data-add-tool="TS-003">Stem</button>
                            <button type="button" class="rounded-full bg-sky-600 px-3 py-1 text-xs font-semibold text-white shadow hover:bg-sky-500 focus:outline-none focus-visible:ring focus-visible:ring-sky-300" data-add-tool="TS-007">Spang Jar</button>
                            <button type="button" class="rounded-full bg-sky-600 px-3 py-1 text-xs font-semibold text-white shadow hover:bg-sky-500 focus:outline-none focus-visible:ring focus-visible:ring-sky-300" data-add-tool="FSH-001">2 Prong Grab</button>
                            <button type="button" class="rounded-full bg-emerald-600 px-3 py-1 text-xs font-semibold text-white shadow hover:bg-emerald-500 focus:outline-none focus-visible:ring focus-visible:ring-emerald-300" data-add-personnel="PERS-001">Wellsite Engineer</button>
                            <button type="button" class="rounded-full bg-emerald-600 px-3 py-1 text-xs font-semibold text-white shadow hover:bg-emerald-500 focus:outline-none focus-visible:ring focus-visible:ring-emerald-300" data-add-personnel="PERS-004">Wireline Engineer</button>
                        </div>
                    </section>

                    <button id="save-plan" type="button" class="w-full rounded-xl bg-cyan-500 px-4 py-3 text-sm font-semibold text-slate-900 shadow hover:bg-cyan-400 focus:outline-none focus-visible:ring focus-visible:ring-slate-100">Save Plan</button>
                </div>
            </article>
        </section>
    </main>

    <div id="toast" role="status" aria-live="polite" class="pointer-events-none fixed bottom-6 right-6 hidden rounded-full bg-emerald-500 px-5 py-3 text-sm font-semibold text-slate-900 shadow-lg">Job plan saved</div>

    <script src="assets/js/well-operations-planner.js" defer></script>
</body>
</html>
